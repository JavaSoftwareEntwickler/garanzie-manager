{% extends 'base.html' %}

{% block title %}
  Profilo
{% endblock %}

{% block content %}
  <div class="container mt-5 d-flex justify-content-center">
    <div class="card-form text-center">
      <h3 class="mb-4">Il mio profilo</h3>

      <!-- Messaggi di Flash -->
      {% include 'message.html' %}

      <!-- Icona profilo -->
      <!-- Foto del profilo o icona di default -->
      <div class="mb-4">
        {% if current_user.profilo.foto %}
          <img src="{{ url_for('static', filename=current_user.profilo.foto) }}"
               alt="Foto profilo"
               class="rounded-circle"
               style="width: 120px; height: 120px; object-fit: cover;">
        {% else %}
          <i class="fas fa-user-circle fa-5x text-primary"></i>
        {% endif %}
      </div>

      <!-- Dati utente -->
      <div class="text-left">
        <p>
          <strong>Username:</strong> {{ current_user.username }}
        </p>
        <p>
          <strong>Email:</strong> {{ current_user.email }}
        </p>
        <!-- Campi profilo -->
        <p>
          <strong>Nome:</strong>
          {% if current_user.profilo.nome %}
            {{ current_user.profilo.nome }}
          {% endif %}
        </p>
        <p>
          <strong>Cognome:</strong>
          {% if current_user.profilo.cognome %}
            {{ current_user.profilo.cognome }}
          {% endif %}
        </p>
        <p>
          <strong>Data di Nascita:</strong>
          {% if current_user.profilo.data_nascita %}
            {{ current_user.profilo.data_nascita }}
          {% endif %}
        </p>
        <p>
          <strong>Luogo di Nascita:</strong>
          {% if current_user.profilo.luogo_nascita %}
            {{ current_user.profilo.luogo_nascita }}
          {% endif %}
        </p>

        <!-- Aggiungi altri campi se presenti, come data registrazione, ecc -->
      </div>

      <!-- Azioni -->
      <div class="mt-4">
        <a href="{{ url_for('edit_profile') }}" class="btn btn-outline-primary btn-block mb-2">Modifica Profilo</a>
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary btn-block">Torna alla Dashboard</a>
      </div>
    </div>
  </div>
{% endblock %}
